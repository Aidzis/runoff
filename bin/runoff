#!/usr/bin/env ruby

require_relative '../lib/runoff/commandline/none'
require_relative '../lib/runoff/commandline/all'

options  = { archive: false }
commands = {
  '_none' => Runoff::Commandline::None.new(options),
  'all'   => Runoff::Commandline::All.new(options)
}

commands['_none'].parser.order!
command = commands[ARGV.shift]

if command
  command.parser.order!
  command.parser.parse!
  command.execute ARGV
else
  commands['_none'].parser.help
end
